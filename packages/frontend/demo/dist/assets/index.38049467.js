import{d as B,i as N}from"./boot.e272cece.js";import{P as I}from"./actions.4188b86e.js";import{h as L,L as P,q as c,k as s,l as u,m as t,n as a,D as r,c as T,G as $,C as m,T as g,s as y,v as E,F as S,x as O,I as v}from"./index.aeebef3f.js";import{u as x}from"./useOrder.f854e906.js";import{u as M}from"./useTranslate.377a0d4c.js";const V=L({name:"LabelCard",props:{shipment:{type:Object,required:!0}},setup:()=>{const e=async(n,o)=>{};return{print:async n=>e(I.LABEL_PRINT),refresh:async n=>e(I.LABEL_REFRESH)}}}),A={class:"card p-1"},F=["textContent"],R={class:"align-items-center d-flex text-nowrap"},j=["href","textContent"];function q(e,n,o,i,p,d){const l=c("PdkIcon");return s(),u("div",A,[t("label",{textContent:a(e.shipment.status)},null,8,F),t("div",R,[t("a",{href:e.shipment.barcode,rel:"noopener noreferrer",target:"_blank",textContent:a(e.shipment.barcode)},null,8,j),t("a",{class:"btn btn-link",onClick:n[0]||(n[0]=()=>e.print(e.shipment.id))},[r(l,{icon:"print"})]),t("a",{class:"btn btn-link",onClick:n[1]||(n[1]=()=>e.refresh(e.shipment.id))},[r(l,{icon:"refresh"})])])])}const w=P(V,[["render",q]]),D=L({name:"OrderListColumn",components:{LabelCard:w},setup:()=>{const e=x(),n=T("id"),o=$(()=>e.data.value),i=$(()=>{var d;return(d=o.value)==null?void 0:d.externalIdentifier}),p=B();return{externalIdentifier:i,order:o,orderQuery:e,openModal(){p.open(N.SHIPMENT_OPTIONS,i.value)},id:n,translate:M(),print:async()=>{}}}}),G={class:"btn-group"};function H(e,n,o,i,p,d){var h;const l=c("LabelCard"),f=c("PdkIcon"),_=c("PdkButton");return s(),u("div",null,[r(g,{appear:"",name:"mypa__fade"},{default:m(()=>{var k;return[(s(!0),u(S,null,O((k=e.order)==null?void 0:k.shipments,C=>{var b;return s(),y(l,{key:`${(b=e.order)==null?void 0:b.externalIdentifier}_shipment_${C.id}`,shipment:C},null,8,["shipment"])}),128))]}),_:1}),t("div",G,[r(_,{variant:"outline-secondary",onClick:e.openModal},{default:m(()=>[r(f,{icon:"label"}),v(" "+a(e.translate("action_create"))+" #"+a(e.externalIdentifier),1)]),_:1},8,["onClick"]),(h=e.order)!=null&&h.shipments.length?(s(),y(_,{key:0,variant:"primary",onClick:e.print},{default:m(()=>[r(f,{icon:"print"}),v(" "+a(e.translate("action_print")),1)]),_:1},8,["onClick"])):E("",!0)])])}const W=P(D,[["render",H]]);export{W as default};
