import{a as m,S}from"./ShippingAddress.5b234cf2.js";import{f as u,d as f}from"./boot.e272cece.js";import{b as x}from"./useOrder.f854e906.js";import{h as y,a as _,L as h,q as r,k as s,s as O,C as g,I as k,n as b,l as C,D as d,v as M}from"./index.aeebef3f.js";import"./useTranslate.377a0d4c.js";const v=()=>{const e=x();return u(async o=>{var n;const t={parameters:{orderIds:o.orderData.externalIdentifier,print:String(Number((n=o==null?void 0:o.print)!=null?n:!1))},body:o.orderData};return console.log(e),e.exportOrder(t)},{onSuccess(o,t,n){console.log({response:o,input:t,c:n})}})},D=y({name:"ShipmentOptionsModal",components:{ShippingAddress:m,ShipmentOptionsForm:S},setup:()=>{const e=f(),o=v(),t=async(n=!1)=>{!e.context||await o.mutateAsync({orderData:{externalIdentifier:e.context},print:n},{onError(a){console.log(a)},onSuccess(){e.close()}})};return{modalKey:ModalKey.SHIPMENT_OPTIONS,contextKey:ContextKey.ORDER_DATA,modalStore:e,actions:_([{id:"cancel",label:"action_cancel",disabled:o.isLoading},{id:"save",onClick:async()=>t(),disabled:o.isLoading,label:"action_export"},{id:"save",onClick:async()=>t(!0),disabled:o.isLoading,label:"action_export_print"}])}}});function A(e,o,t,n,a,I){const i=r("ShipmentOptionsForm"),c=r("ShippingAddress"),l=r("PdkModal");return s(),O(l,{id:e.modalKey,actions:e.actions,"save-label":"export",title:"shipment_options_title"},{default:g(p=>[k(" context: "+b(e.modalStore.context)+" ",1),p.state.opened===e.modalKey&&e.modalStore.context?(s(),C("div",{key:e.modalStore.context},[d(i,{"order-id":e.modalStore.context},null,8,["order-id"]),d(c,{"order-id":e.modalStore.context},null,8,["order-id"])])):M("",!0)]),_:1},8,["id","actions"])}const T=h(D,[["render",A]]);export{T as default};
