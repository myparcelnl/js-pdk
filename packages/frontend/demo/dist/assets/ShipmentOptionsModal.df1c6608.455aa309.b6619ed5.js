import{K as m,G as x}from"./ShippingAddress.a6e140a5.4ede364b.d30e1e51.js";import{h as u,J as S,a as y,N as g,M as b,q as a,k as s,s as f,C as v,I as K,n as N,l as _,D as i,v as h}from"./index.aeebef3f.js";import{r as k}from"./_plugin-vue_export-helper.e9cbb45e.72bab03e.a8c17577.js";const C=()=>{const e=g();return b(async o=>{var t;const n={parameters:{orderIds:o.orderData.externalIdentifier,print:String(Number((t=o==null?void 0:o.print)!=null?t:!1))},body:o.orderData};return console.log(e),e.exportOrder(n)},{onSuccess(o,t,n){console.log({response:o,input:t,c:n})}})},O=u({name:"ShipmentOptionsModal",components:{ShippingAddress:m,ShipmentOptionsForm:x},setup:()=>{const e=S(),o=C(),t=async(n=!1)=>{!e.context||await o.mutateAsync({orderData:{externalIdentifier:e.context},print:n},{onError(r){console.log(r)},onSuccess(){e.close()}})};return{modalKey:ModalKey.SHIPMENT_OPTIONS,contextKey:ContextKey.ORDER_DATA,modalStore:e,actions:y([{id:"cancel",label:"action_cancel",disabled:o.isLoading},{id:"save",onClick:async()=>t(),disabled:o.isLoading,label:"action_export"},{id:"save",onClick:async()=>t(!0),disabled:o.isLoading,label:"action_export_print"}])}}});function D(e,o,t,n,r,A){const d=a("ShipmentOptionsForm"),l=a("ShippingAddress"),c=a("PdkModal");return s(),f(c,{id:e.modalKey,actions:e.actions,"save-label":"export",title:"shipment_options_title"},{default:v(p=>[K(" context: "+N(e.modalStore.context)+" ",1),p.state.opened===e.modalKey&&e.modalStore.context?(s(),_("div",{key:e.modalStore.context},[i(d,{"order-id":e.modalStore.context},null,8,["order-id"]),i(l,{"order-id":e.modalStore.context},null,8,["order-id"])])):h("",!0)]),_:1},8,["id","actions"])}const T=k(O,[["render",D]]);export{T as default};
